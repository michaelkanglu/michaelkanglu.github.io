(this.webpackJsonplongwave=this.webpackJsonplongwave||[]).push([[0],{107:function(e,t,a){e.exports=a(221)},108:function(e,t,a){},115:function(e,t,a){},217:function(e,t){},221:function(e,t,a){"use strict";a.r(t);a(108),a(109),a(110);var r=a(0),n=a.n(r),l=a(10),o=a.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(26),c=(a(98),a(115),a(48)),u=a(27),s=a(6);function m(e,t){var a=localStorage.getItem(t);null==a?localStorage.setItem(t,JSON.stringify(e)):e=JSON.parse(a);var n=Object(r.useState)(e),l=Object(s.a)(n,2),o=l[0],i=l[1];return[o,function(e){localStorage.setItem(t,JSON.stringify(e)),i(e)}]}var d,g,p,f=a(3);a(116);function v(){return Math.floor(21*Math.random())}function y(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",t="",a=0;a<4;a++)t+=e[Math.floor(Math.random()*e.length)];return t}function h(e){return e===p.Left?p.Right:e===p.Right?p.Left:p.Unset}function E(e){return e===p.Left?"LEFT BRAIN":e===p.Right?"RIGHT BRAIN":"the players"}function b(){return{gameType:g.Teams,roundPhase:d.SetupGame,turnsTaken:-1,deckSeed:y(),deckIndex:0,spectrumTarget:v(),clue:"",guess:0,counterGuess:"left",players:{},clueGiver:"",leftScore:0,rightScore:0,coopScore:0,coopBonusTurns:0,previousTurn:null}}!function(e){e[e.SetupGame=0]="SetupGame",e[e.PickTeams=1]="PickTeams",e[e.GiveClue=2]="GiveClue",e[e.MakeGuess=3]="MakeGuess",e[e.CounterGuess=4]="CounterGuess",e[e.ViewScore=5]="ViewScore"}(d||(d={})),function(e){e[e.Teams=0]="Teams",e[e.Cooperative=1]="Cooperative",e[e.Freeplay=2]="Freeplay"}(g||(g={})),function(e){e[e.Unset=0]="Unset",e[e.Left=1]="Left",e[e.Right=2]="Right"}(p||(p={}));var S={display:"flex",flexFlow:"row",justifyContent:"space-evenly",alignItems:"center"};function C(e){return n.a.createElement("div",{style:Object(f.a)(Object(f.a)({},S),{},{flexFlow:"row"},e.style)},e.children)}function k(e){return n.a.createElement("div",{style:Object(f.a)(Object(f.a)({},S),{},{flexFlow:"column"},e.style)},e.children)}var w=a(118);function O(e){var t=new w;t.from_hue(e).scheme("contrast").variation("soft");var a=t.colors(),r=Object(s.a)(a,5);return["#"+r[0],"#"+r[4]]}function T(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),a=t[0],l=t[1],o=O(a),i=Object(s.a)(o,2),c=i[0],u=i[1];return Object(r.useEffect)((function(){var e=setInterval((function(){l((function(e){return(e+1)%360}))}),5);return function(){return clearInterval(e)}})),n.a.createElement("h1",{style:{backgroundImage:"linear-gradient(90deg, ".concat(c," 10%, ").concat(u," 90%)"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Longwave")}function j(e){var t=Object(r.useRef)(null);return n.a.createElement(k,null,n.a.createElement(T,null),n.a.createElement("div",null,"Enter your name:"),n.a.createElement("input",{type:"text",ref:t,onKeyDown:function(a){return!!t.current&&("Enter"!==a.key||void e.setName(t.current.value))}}))}var x=Object(r.createContext)({gameState:b(),localPlayer:{id:"localPlayer",name:"Player",team:p.Unset},clueGiver:null,spectrumCard:["left","right"],setGameState:function(e){console.warn("GameModelContext not provided. Got setGameState: "+JSON.stringify(e))}}),G=a(106);function P(e){var t=O(function(e){for(var t=0,a=0;a<e.length;a++)t+=e.charCodeAt(a);return t}(e.spectrumCard[0])),a=Object(s.a)(t,2),r=a[0],l=a[1],o={padding:8,fontWeight:"bold"},i={height:18,width:18,backgroundColor:"rgba(255,255,255,0.8)",borderColor:"black"},c=Object(f.a)(Object(f.a)({},i),{},{cursor:"auto",bottom:-9,borderWidth:4,transform:"translateX(-5px)"});e.onChange||(i.cursor="auto",i.boxShadow="none"),void 0===e.handleValue&&(i.display="none");var u={};return void 0!==e.targetValue&&(u[e.targetValue]={style:{fontWeight:"bold",color:"black",cursor:"auto"},label:"Target"}),void 0!==e.guessingValue&&(u[e.guessingValue]={style:{fontWeight:"bold",color:"black",cursor:"auto"},label:"Guessing..."}),n.a.createElement("div",{style:{padding:8}},n.a.createElement(k,{style:{alignItems:"stretch"}},n.a.createElement(C,{style:{justifyContent:"space-between"}},n.a.createElement("div",{style:Object(f.a)(Object(f.a)({},o),{},{backgroundColor:r})},e.spectrumCard[0]),n.a.createElement("div",{style:Object(f.a)(Object(f.a)({},o),{},{backgroundColor:l})},e.spectrumCard[1])),n.a.createElement("div",{style:{padding:"16px 32px"}},n.a.createElement(G.a,{min:0,max:20,value:e.handleValue,trackStyle:{backgroundColor:"transparent"},railStyle:{background:"linear-gradient(90deg, ".concat(r," 0%, ").concat(l," 100%)"),height:8},handleStyle:i,onChange:e.onChange,marks:u,dotStyle:c}))))}function I(e){return n.a.createElement("input",{style:{padding:8,margin:8},type:"button",value:e.text,onClick:e.onClick,disabled:e.disabled})}var U=a(41),L=a(42),B=a(58);function F(e){return n.a.createElement(B.a,{content:e.children,placement:"bottom"},n.a.createElement("div",{style:{margin:8}},n.a.createElement(U.a,{icon:L.b})))}function R(e){var t=Object(r.useState)(e.animation),a=Object(s.a)(t,2),l=a[0],o=a[1];return Object(r.useEffect)((function(){setTimeout((function(){return o(e.animation+" animate")}))})),n.a.createElement("div",{className:l,style:e.style},e.children)}function W(){var e,t,a=Object(r.useContext)(x),l=a.gameState,o=a.localPlayer,i=a.clueGiver,c=a.spectrumCard,u=a.setGameState,m=Object(r.useRef)(null),p=Object(r.useState)(!(null===(e=m.current)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)),f=Object(s.a)(p,2),y=f[0],h=f[1];if(!i)return u({clueGiver:o.id}),null;if(o.id!==i.id)return n.a.createElement("div",null,n.a.createElement(R,{animation:"wipe-reveal-right"},n.a.createElement(P,{spectrumCard:c})),n.a.createElement(k,null,n.a.createElement("div",null,"Waiting for ",i.name," to provide a clue...")));var E=function(){var e,t;if(!(null===(e=m.current)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length))return!1;u({clue:m.current.value,guess:10,roundPhase:d.MakeGuess})};return n.a.createElement("div",null,l.gameType!==g.Cooperative&&n.a.createElement(k,{style:{alignItems:"flex-end"}},n.a.createElement(I,{text:"Draw a different card",onClick:function(){return u({deckIndex:l.deckIndex+1,spectrumTarget:v()})}})),n.a.createElement(R,{animation:"wipe-reveal-right"},n.a.createElement(P,{targetValue:l.spectrumTarget,spectrumCard:c})),n.a.createElement(k,null,n.a.createElement(C,null,n.a.createElement("input",{type:"text",placeholder:"Clue...",ref:m,onKeyDown:function(e){if("Enter"!==e.key)return!0;E()},onChange:function(){var e,t;return h(!(null===(e=m.current)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length))}}),n.a.createElement(F,null,n.a.createElement("div",null,'Your clue should be some concept that lies on the provided spectrum, conceptually located where the target is between the two extremes. For example, "coffee" might be a good clue that lies on a spectrum of "hot" to "cold".',n.a.createElement("ul",null,n.a.createElement("li",null,"Convey a single thought"),n.a.createElement("li",null,"Stay on topic"),n.a.createElement("li",null,"No numbers allowed"),n.a.createElement("li",null,"Be creative!"))))),n.a.createElement(I,{text:"Submit Clue",onClick:E,disabled:y})))}function M(e,t){var a=Math.abs(e-t);return a>2?0:4-Math.floor(a)}function H(e,t,a){var r=M(e.spectrumTarget,e.guess),n="left"===a&&e.spectrumTarget<e.guess||"right"===a&&e.spectrumTarget>e.guess,l={roundPhase:d.ViewScore,counterGuess:a};return t===p.Right&&(l.rightScore=e.rightScore+r,l.leftScore=e.leftScore+(n?1:0)),t===p.Left&&(l.leftScore=e.leftScore+r,l.rightScore=e.rightScore+(n?1:0)),l}function N(){var e=Object(r.useContext)(x),t=e.gameState,a=e.localPlayer,l=e.clueGiver,o=e.spectrumCard,c=e.setGameState;if(!l)return null;var u=a.id===l.id||t.gameType===g.Teams&&a.team!==l.team,s=E(l.team);return u?n.a.createElement("div",null,n.a.createElement(P,{spectrumCard:o,guessingValue:t.guess}),n.a.createElement(k,null,n.a.createElement("div",null,l.name,"'s clue: ",n.a.createElement("strong",null,t.clue)),n.a.createElement("div",null,"Waiting for ",s," to guess..."),Object.keys(t.players).length<2&&n.a.createElement("div",{style:{margin:12,padding:"0 1em",border:"1px solid black"}},n.a.createElement("p",null,"Invite other players to join the game."),n.a.createElement("p",null,"Share this URL with them: ",window.location.href)))):n.a.createElement("div",null,n.a.createElement(P,{spectrumCard:o,handleValue:t.guess,onChange:function(e){c({guess:e})}}),n.a.createElement(k,null,n.a.createElement("div",null,l.name,"'s clue: ",n.a.createElement("strong",null,t.clue)),n.a.createElement("div",null,n.a.createElement(I,{text:"Submit Guess for ".concat(E(a.team)),onClick:function(){var e,a;e="guess_submitted",a={spectrum_card:o.join("|"),clue:t.clue,target:t.spectrumTarget.toString(),guess:t.guess.toString()},Object(i.analytics)().logEvent(e,Object(f.a)({app_name:"Longwave",screen_name:"index"},a)),t.gameType===g.Teams?c({roundPhase:d.CounterGuess}):t.gameType===g.Cooperative?c(function(e){var t=M(e.spectrumTarget,e.guess),a={roundPhase:d.ViewScore};return 4===t?(a.coopScore=e.coopScore+3,a.coopBonusTurns=e.coopBonusTurns+1):a.coopScore=e.coopScore+t,a}(t)):c({roundPhase:d.ViewScore})}}))))}var D=a(103),V=a.n(D),A=[].concat([["Bad actor","Good actor"],["Basic","Hipster"],["Worthless","Priceless"],["Nature","Nurture"],["Happens slowly","Happens suddenly"],["Job","Career"],["Round","Pointy"],["Proof that God exists","Proof that God doesn't exist"],["Loved","Hated"],["The Light Side of the Force","The Dark Side of the Force"],["Stupid","Brilliant"],["Artisanal","Mass Produced"],["Nobody does it","Everybody does it"],["Short lived","Long lived"],["Dangerous job","Safe job"],["Fantasy","Sci-Fi"],["Plain","Fancy"],["Has a bad reputation","Has a good reputation"],["Ethical to eat","Unethical to eat"],["Movie","Film"],["Unfashionable","Fashionable"],["Freedom fighter","Terrorist"],["Bad superpower","Good superpower"],["Ineffective","Effective"],["Better hot","Better cold"],["Square","Round"],["Temporary","Permanent"],["Looks like a person","Doesn't look like a person"],["Uncool","Cool"],["Worst living person","Greatest living person"],["Underrated","Overrated"],["Messy food","Clean food"],["Unforgivable","Forgivable"],["Failure","Masterpiece"],["Harmless","Harmful"],["Gryffindor","Slytherin"],["Unhygienic","Hygienic"],["Bad music","Good music"],["Useless","Useful"],["Movie that Godzilla would ruin","Movie that Godzilla would improve"],["Unimportant","Important"],["Easy to spell","Hard to spell"],["Vice","Virtue"],["Underrated musician","Overrated musician"],["Unpopular activity","Popular activity"],["Divided","Whole"],["Unreliable","Reliable"],["Easy to kill","Hard to kill"],["Unstable","Stable"],["Round animal","Pointy animal"],["Bad TV show","Good TV show"],["Traditionally masculine","Traditionally feminine"],["Useless body part","Useful body part"],["Fad","Classic"],["Weak","Strong"],["Disgusting cereal","Delicious cereal"],["Bad","Good"],["Mildly addictive","Highly addictive"],["Useless in an emergency","Useful in an emergency"],["For kids","For adults"],["Villain","Hero"],["Underrated thing to do","Overrated thing to do"],["Boring","Exciting"],["Smelly in a bad way","Smelly in a good way"],["Unpopular","Popular"],["Friend","Enemy"],["Useless invention","Useful invention"],["Liberal","Conservative"],["Hot","Cold"],["Normal","Weird"],["Colorless","Colorful"],["Low calorie","High calorie"],["Easy subject","Hard subject"],["Unknown","Famous"],["Rare","Common"],["Unsexy emoji","Sexy emoji"],["Cheap","Expensive"],["Underrated weapon","Overrated weapon"],["Feels bad","Feels good"],["Inessential","Essential"],["Dirty","Clean"],["Requires luck","Requires skill"],["Flavorless","Flavorful"],["Boring topic","Fascinating topic"],["Casual","Formal"],["Underpaid","Overpaid"],["Dry","Wet"],["Underrated skill","Overrated skill"],["Forbidden","Encouraged"],["Sad song","Happy song"],["Fragile","Durable"],["Geek","Dork"],["Good","Evil"],["Worst day of the year","Best day of the year"],["Bad habit","Good habit"],["Cat person","Dog person"],["Wise","Intelligent"],["Hard to do","Easy to do"],["Mental activity","Physical activity"],["Uncontroversial topic","Controversial topic"],["Guilty pleasure","Openly love"],["Untalented","Talented"],["Hard to find","Easy to find"],["Ugly Man","Beautiful Man"],["Hard to remember","Easy to remember"],["Lowbrow","Highbrow"],["Unhealthy","Healthy"],["Bad man","Good man"],["Historically important","Historically irrelevant"],["Hairless","Hairy"],["Inflexible","Flexible"],["Normal pet","Exotic pet"],["Introvert","Extrovert"],["Book was better","Movie was better"],["Bad movie","Good movie"],["Ugly","Beautiful"],["Mature person","Immature person"],["Underrated thing to own","Overrated thing to own"],["Ordinary","Extraordinary"],["Hard to pronounce","Easy to pronounce"],["Poorly made","Well made"],["Not a sandwich","A sandwich"],["Dangerous","Safe"],["Culturally significant","Culturally insignificant"],["Optional","Mandatory"],["Underrated letter of the alphabet","Overrated letter of the alphabet"],["Low quality","High quality"],["Unsexy animal","Sexy animal"],["Quiet place","Loud place"],["Comedy","Drama"],["Need","Want"],["Dry food","Wet food"],["Replaceable","Irreplaceable"],["Worst athlete of all time","Greatest athlete of all time"],["Unethical","Ethical"],["Boring hobby","Interesting hobby"],["Bad pizza topping","Good pizza topping"],["Dystopia","Utopia"],["Rough","Smooth"],["Bad for you","Good for you"],["Peaceful","Warlike"],["Underrated Movie","Overrated movie"],["Tastes bad","Tastes good"],["Sport","Game"],["Sad movie","Happy movie"],["Waste of time","Good use of time"],["Least evil company","Most evil company"],["Snack","Meal"],["Unbelievable","Believable"],["Trashy","Classy"],["Smells bad","Smells good"],["Star Wars","Star Trek"],["Scary animal","Nice animal"],["Mainstream","Niche"],["Dark","Light"],["Underrated actor","Overrated actor"],["Difficult to use","Easy to use"],["Tired","Wired"],["80s","90s"],["Bad person","Good person"],["Sustenance","Haute cuisine"],["Soft","Hard"],["Normal thing to own","Weird thing to own"],["Straight","Curvy"],["Role model","Bad Influence"],["Useless major","Useful major"],["Mean person","Nice person"],["Action movie","Adventure movie"]],[["Short","Long"],["Worst year in history","Best year in history"],["Famous","Infamous"],["Least powerful god","Most powerful god"],["Unsexy color","Sexy color"],["Benefits you","Benefits everyone"],["Bad president","Good president"],["Weird","Strange"],["Derivative","Original"],["Etiquette","Manners"],["The worst","The best"],["Small number","Large number"],["Not enough","Too much"],["Hard to sit on","Easy to sit on"],["Talent","Skill"],["Worst era to time travel","Best era to time travel"],["Not huggable","Huggable"],["Heterogeneous","Homogeneous"],["Out of control","In control"],["Popular","Elitist"],["Non-partisan","Partisan"],["Dog name","Cat name"],["Little known fact","Well known fact"],["Socialist","Capitalist"],["Bad candy","Good candy"],["Traditional","Radical"],["Bad mouthfeel","Good mouthfeel"],["Illegal","Legal"],["Never on time","Always on time"],["Won't live to 100","Will live to 100"],["Bad Disney character","Good Disney character"],["Similar","Identical"],["Limp","Firm"],["Funny topic","Serious topic"],["Unscented","Scented"],["Horizontal","Vertical"],["Small","Tiny"],["Ugly word","Beautiful word"],["Tick","Tock"],["Bad advice","Good advice"],["Illegal","Prohibited"],["Not art","Art"],["Gossip","News"],["Guilty pleasure","Actually just bad"],["Old fashioned","Avant garde"],["True","False"],["Normal greeting","Weird greeting"],["Dictatorship","Democracy"],["Powerless","Powerful"],["Vapes","Doesn't Vape"],["Boring person","Fun person"],["Underrated book","Overrated book"],["Deep thought","Shallow thought"],["Bad school","Good school"],["Conventional wisdom","Fringe belief"],["Worst chore","Best chore"],["Endangered species","Overpopulated species"],["Blue","Green"],["Fruit","Vegetable"],["Science","Pseudoscience"],["Small talk","Heavy topic"],["Bad investment","Good investment"],["Stationary","Mobile"],["Local issue","Global issue"],["Thrilling","Terrifying"],["Nerd","Jock"],["Expected","Unexpected"],["Person you could beat up","Person who'd beat you up"],["Limited","Infinite"],["Casual event","Formal event"],["Unreasonable phobia","Reasonable phobia"],["Underrated game","Overrated game"],["Religious","Sacrilegious"],["Mild","Spicy"],["Genuine person","Phony person"],["Unnatural","Natural"],["Secret","Public Knowledge"],["Too small","Too big"],["Art","Commerce"],["One hit wonder","Pop icon"],["Unsexy Pok\xe9mon","Sexy Pok\xe9mon"],["Quiet","Loud"],["Inclusive","Exclusive"],["Bad dog (breed)","Good dog (breed)"]]),z=a(208),J=V()((function(e,t){return z.shuffle(t,e)}));function _(e,t,a){var r=e.players[e.clueGiver]?Object(f.a)(Object(f.a)({},e.players[e.clueGiver]),{},{id:e.clueGiver}):null,n=J(e.deckSeed,A);return{gameState:e,localPlayer:Object(f.a)(Object(f.a)({},e.players[a]),{},{id:a}),clueGiver:r,spectrumCard:n[e.deckIndex%n.length],setGameState:t}}function q(e,t){var a=_(t,(function(){}),e),r={clueGiver:e,roundPhase:d.GiveClue,deckIndex:t.deckIndex+1,turnsTaken:t.turnsTaken+1,spectrumTarget:v()};return null!==a.clueGiver&&(r.previousTurn={spectrumCard:a.spectrumCard,spectrumTarget:t.spectrumTarget,clueGiverName:a.clueGiver.name,clue:t.clue,guess:t.guess}),r}function K(){var e=Object(r.useContext)(x),t=e.gameState,a=e.clueGiver,l=e.spectrumCard;if(!a)return null;var o=M(t.spectrumTarget,t.guess),i=!1;t.gameType===g.Cooperative&&4===o&&(o=3,i=!0);var c="left"===t.counterGuess&&t.spectrumTarget<t.guess||"right"===t.counterGuess&&t.spectrumTarget>t.guess;return n.a.createElement("div",null,n.a.createElement(P,{spectrumCard:l,handleValue:t.guess,targetValue:t.spectrumTarget}),n.a.createElement(k,null,n.a.createElement("div",null,a.name,"'s clue: ",n.a.createElement("strong",null,t.clue)),n.a.createElement("div",null,"Score: ",o," points!"),t.gameType===g.Teams&&n.a.createElement("div",null,E(h(a.team))," gets",c?" 1 point for their correct counter guess.":" 0 points for their counter guess."),i&&n.a.createElement("div",null,"Your team earned a ",n.a.createElement("strong",null,"bonus turn!")),n.a.createElement(Y,null)))}function Y(){var e=Object(r.useContext)(x),t=e.gameState,a=e.localPlayer,l=e.clueGiver,o=e.setGameState;if(!l)return null;var i=n.a.createElement(I,{text:"Reset Game",onClick:function(){o(Object(f.a)(Object(f.a)({},b()),{},{deckSeed:t.deckSeed,deckIndex:t.deckIndex}))}});if(t.leftScore>=10&&t.leftScore>t.rightScore)return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,E(p.Left)," wins!"),i);if(t.rightScore>=10&&t.rightScore>t.leftScore)return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,E(p.Right)," wins!"),i);if(t.gameType===g.Cooperative&&t.turnsTaken>=7+t.coopBonusTurns)return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,"Game Complete"),n.a.createElement("div",null,"Your team's final cooperative score:"," ",n.a.createElement("strong",null,t.coopScore," POINTS")),i);var c=M(t.spectrumTarget,t.guess),u=E(l.team),s=!1,m=function(){if(t.gameType!==g.Teams)return p.Unset;if(4===c){if(t.leftScore<t.rightScore&&l.team===p.Left)return s=!0,p.Left;if(t.rightScore<t.leftScore&&l.team===p.Right)return s=!0,p.Right}return h(l.team)}(),d=l.id!==a.id&&(t.gameType!==g.Teams||a.team===m);return n.a.createElement(n.a.Fragment,null,s&&n.a.createElement(C,null,n.a.createElement("div",null,"Catchup activated: ",u," takes a bonus turn! "),n.a.createElement(F,null,"After a team scores a four-point round, they get a bonus turn if they are still behind the other team.")),d&&n.a.createElement(I,{text:"Draw next Spectrum Card",onClick:function(){return o(q(a.id,t))}}))}var X=a(57);function Q(){var e=Object(r.useContext)(x),t=e.gameState,a=e.localPlayer,l=e.setGameState,o=Object.keys(t.players).filter((function(e){return t.players[e].team===p.Left})),i=Object.keys(t.players).filter((function(e){return t.players[e].team===p.Right})),c=function(e){l({players:Object(f.a)(Object(f.a)({},t.players),{},Object(X.a)({},a.id,Object(f.a)(Object(f.a)({},a),{},{team:e})))})};return n.a.createElement(k,null,n.a.createElement(T,null),n.a.createElement("div",null,"Join Team:"),n.a.createElement(C,{style:{alignItems:"flex-start",alignSelf:"stretch"}},n.a.createElement(k,null,n.a.createElement("div",null,E(p.Left)),o.map((function(e){return n.a.createElement("div",{key:e},t.players[e].name)})),n.a.createElement("div",null,n.a.createElement(I,{text:"Join",onClick:function(){return c(p.Left)}}))),n.a.createElement(k,null,n.a.createElement("div",null,E(p.Right)),i.map((function(e){return n.a.createElement("div",{key:e},t.players[e].name)})),n.a.createElement("div",null,n.a.createElement(I,{text:"Join",onClick:function(){return c(p.Right)}})))),t.roundPhase===d.PickTeams&&n.a.createElement(I,{text:"Start Game",onClick:function(){return l(function(e,t,a){var r={leftScore:0,rightScore:0};return e[t].team===p.Left?r.rightScore=1:r.leftScore=1,Object(f.a)(Object(f.a)(Object(f.a)({},q(t,a)),r),{},{previousTurn:null,gameType:g.Teams})}(t.players,a.id,t))}}))}function Z(){var e=Object(r.useContext)(x).gameState,t={borderTop:"1px solid black",margin:16,paddingTop:16,alignItems:"center"};if(e.gameType===g.Freeplay)return n.a.createElement(k,{style:t},n.a.createElement("em",null,"Free Play"),n.a.createElement(C,{style:{flexWrap:"wrap"}},Object.keys(e.players).map(te)));if(e.gameType===g.Cooperative){var a=7+e.coopBonusTurns-e.turnsTaken;return n.a.createElement(k,{style:t},n.a.createElement("em",null,"Cooperative Score: ",e.coopScore," POINTS"),n.a.createElement("div",null,0===a?"Last Card!":"Cards remaining: "+a),n.a.createElement(C,{style:{flexWrap:"wrap"}},Object.keys(e.players).map(te)))}return n.a.createElement(C,{style:t},n.a.createElement($,{team:p.Left,score:e.leftScore}),n.a.createElement($,{team:p.Right,score:e.rightScore}))}function $(e){var t=Object(r.useContext)(x).gameState,a=Object.keys(t.players).filter((function(a){return t.players[a].team===e.team}));return n.a.createElement(k,{style:{alignItems:"flex-start"}},n.a.createElement("div",null,E(e.team),": ",n.a.createElement(ee,{score:e.score})," POINTS"),a.map(te))}function ee(e){var t=Object(r.useRef)(e.score);return Object(r.useEffect)((function(){t.current=e.score}),[e.score]),e.score-t.current===0?n.a.createElement("span",null,e.score):n.a.createElement("span",{style:{position:"relative"}},e.score,n.a.createElement(R,{animation:"fade-disappear-up",style:{position:"absolute",fontSize:"small",top:-16,right:0}},"+",e.score-t.current))}function te(e){return n.a.createElement(ae,{key:e,playerId:e})}function ae(e){var t=Object(r.useContext)(x),a=t.gameState,l=t.setGameState,o=a.players[e.playerId],i=Object(r.useState)(!1),c=Object(s.a)(i,2),u=c[0],m=c[1],d={marginLeft:4,width:20};return n.a.createElement("div",{style:{marginLeft:16,display:"flex",flexFlow:"row"},onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},o.name,u?n.a.createElement("div",{style:Object(f.a)(Object(f.a)({},d),{},{cursor:"pointer"}),onClick:function(){delete a.players[e.playerId],l(a)}},n.a.createElement(U.a,{icon:L.c})):n.a.createElement("div",{style:d}))}function re(){var e=Object(r.useContext)(x),t=e.gameState,a=e.setGameState,l=e.localPlayer,o=function(e){e===g.Teams?a({roundPhase:d.PickTeams,gameType:e}):a(Object(f.a)(Object(f.a)({},q(l.id,t)),{},{gameType:e}))};return n.a.createElement(k,null,n.a.createElement(T,null),n.a.createElement(C,{style:{flexWrap:"wrap"}},n.a.createElement(I,{text:"Standard (Teams): 4+ Players",onClick:function(){return o(g.Teams)}}),n.a.createElement(I,{text:"Cooperative: 2+ Players",onClick:function(){return o(g.Cooperative)}}),n.a.createElement(I,{text:"Free Play: 2+ Players",onClick:function(){return o(g.Freeplay)}})))}function ne(){var e=Object(r.useContext)(x),t=e.gameState,a=e.localPlayer,l=e.clueGiver,o=e.spectrumCard,i=e.setGameState;if(!l)return null;var c=l.team===a.team,u=E(h(l.team));return c?n.a.createElement("div",null,n.a.createElement(P,{spectrumCard:o,guessingValue:t.guess}),n.a.createElement(k,null,n.a.createElement("div",null,l.name,"'s clue: ",n.a.createElement("strong",null,t.clue)),n.a.createElement("div",null,"Waiting for ",u," to guess left/right..."))):n.a.createElement("div",null,n.a.createElement(P,{spectrumCard:o,guessingValue:t.guess}),n.a.createElement(k,null,n.a.createElement("div",null,l.name,"'s clue: ",n.a.createElement("strong",null,t.clue))),n.a.createElement(C,null,n.a.createElement(I,{text:"Target is to the Left",onClick:function(){return i(H(t,l.team,"left"))}}),n.a.createElement(I,{text:"Target is to the Right",onClick:function(){return i(H(t,l.team,"right"))}})))}function le(e){return n.a.createElement("div",{style:{borderTop:"1px solid black",margin:16,paddingTop:16}},n.a.createElement(k,null,n.a.createElement("em",null,"Previous Turn")),n.a.createElement("div",{style:{position:"relative"}},n.a.createElement("div",{style:{position:"absolute",zIndex:10,left:0,right:0,top:0,bottom:0,backgroundColor:"rgba(255,255,255,0.5)"}}),n.a.createElement(P,{spectrumCard:e.spectrumCard,handleValue:e.guess,targetValue:e.spectrumTarget}),n.a.createElement(k,null,n.a.createElement("div",null,e.clueGiverName,"'s clue: ",n.a.createElement("strong",null,e.clue)))))}function oe(){var e=Object(r.useContext)(x),t=e.gameState,a=e.localPlayer;return t.roundPhase===d.SetupGame?n.a.createElement(re,null):t.gameType!==g.Teams||t.roundPhase!==d.PickTeams&&a.team!==p.Unset?n.a.createElement(n.a.Fragment,null,t.roundPhase===d.GiveClue&&n.a.createElement(W,null),t.roundPhase===d.MakeGuess&&n.a.createElement(N,null),t.roundPhase===d.CounterGuess&&n.a.createElement(ne,null),t.roundPhase===d.ViewScore&&n.a.createElement(K,null),n.a.createElement(Z,null),t.previousTurn&&n.a.createElement(le,t.previousTurn)):n.a.createElement(Q,null)}function ie(){var e=Object(u.g)().roomId;return n.a.createElement(C,{style:{justifyContent:"flex-end",alignItems:"center",color:"gray"}},n.a.createElement("div",{style:{margin:4,padding:4}},"Room ID: ",e),n.a.createElement(B.a,{content:n.a.createElement(ce,null),interactive:!0,placement:"bottom-end"},n.a.createElement("div",{tabIndex:0,style:{padding:8}},n.a.createElement(U.a,{icon:L.a}))))}function ce(){var e=Object(r.useContext)(x).setGameState;return n.a.createElement("div",{tabIndex:0,style:{cursor:"pointer"},onClick:function(){return e(b())}},"Reset Room")}function ue(){var e=Object(r.useState)(Object(f.a)(Object(f.a)({},b()),{},{gameType:g.Teams,roundPhase:d.PickTeams,players:{ul:{name:"Upper Left",team:p.Left},ll:{name:"Lower Left",team:p.Left},ur:{name:"Upper Right",team:p.Right},lr:{name:"Lower Right",team:p.Right}}})),t=Object(s.a)(e,2),a=t[0],l=t[1],o=function(e){return l(Object(f.a)(Object(f.a)({},a),e))},i={width:500,margin:4,padding:4,border:"1px solid black"},c=function(e){return n.a.createElement("div",{style:i},n.a.createElement(x.Provider,{value:_(a,o,e)},n.a.createElement(oe,null)))};return n.a.createElement(C,{style:{alignItems:"stretch",position:"absolute",top:100,left:0}},n.a.createElement(k,{style:{alignItems:"stretch",justifyContent:"space-between"}},c("ul"),c("ll")),n.a.createElement(k,{style:{alignItems:"stretch",justifyContent:"space-between"}},c("ur"),c("lr")))}function se(){var e,t=Object(u.g)().roomId;if(void 0===t)throw new Error("RoomId missing");var a=m("","name"),l=Object(s.a)(a,2),o=l[0],c=l[1],d=m(y(),"playerId"),g=Object(s.a)(d,1)[0],v=function(e,t,a){var n=Object(r.useState)(b()),l=Object(s.a)(n,2),o=l[0],c=l[1];Object(r.useEffect)((function(){var r=Object(i.database)().ref("rooms/"+e);return r.on("value",(function(e){var n=e.val(),l=Object(f.a)(Object(f.a)({},b()),n);if(void 0!==(null===n||void 0===n?void 0:n.roundPhase))return void 0===l.players[t]?(l.players[t]={name:a,team:p.Unset},void r.set(l)):void c(l);r.set(l)})),function(){return r.off()}}),[t,a,e]);var u=Object(i.database)().ref("rooms/"+e);return[o,function(e){u.set(Object(f.a)(Object(f.a)({},o),e))}]}(t,g,o),h=Object(s.a)(v,2),E=h[0],S=h[1];if("MULTIPLAYER_TEST"===t)return n.a.createElement(ue,null);var C=_(E,S,g);if(0===o.length)return n.a.createElement(j,{setName:function(e){c(e),E.players[g].name=e,S(E)}});var k=new URLSearchParams(window.location.search);if(k.get("rocketcrab")){var w=k.get("name");null!==w&&w!==o&&c(w)}return(null===E||void 0===E||null===(e=E.players)||void 0===e?void 0:e[g])?n.a.createElement(x.Provider,{value:C},n.a.createElement(ie,null),n.a.createElement(oe,null)):null}function me(){return n.a.createElement("div",{style:{paddingTop:8,borderTop:"1px solid black",color:"gray",fontSize:"small",display:"flex",flexDirection:"row",alignItems:"center"}},n.a.createElement("p",{style:{margin:8}},n.a.createElement(de,{href:"https://www.wavelength.zone/",text:"Wavelength"})," is designed by Wolfgang Warsch, Alex Hague, and Justin Vickers."," ",n.a.createElement(de,{href:"https://github.com/cynicaloptimist/longwave",text:"Adapted for web"})," ","by Evan Bailey and Margarethe Schoen."),n.a.createElement("a",{target:"_blank",href:"https://www.patreon.com/improvedinitiative"},n.a.createElement("img",{alt:"Patreon logo",title:"Support us on Patreon!",src:"./Digital-Patreon-Wordmark_FieryCoral.png",style:{width:"150px",margin:8}})))}function de(e){return n.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.text)}function ge(){var e=Object(u.f)();return n.a.createElement(k,null,n.a.createElement(T,null),n.a.createElement(I,{text:"Create Room",onClick:function(){e.push("/"+y())}}),n.a.createElement("p",{style:{margin:8}},n.a.createElement("strong",null,"Longwave")," is an online, real-time adaptation of the"," ",n.a.createElement("em",null,"Wavelength")," board game. Best enjoyed with voice chat!"))}var pe={maxWidth:500,margin:4,padding:4,border:"1px solid black"};var fe=function(){return n.a.createElement(k,null,n.a.createElement("div",{style:pe},n.a.createElement(c.a,null,n.a.createElement(u.c,null,n.a.createElement(u.a,{path:"/:roomId"},n.a.createElement(se,null)),n.a.createElement(u.a,{path:"/"},n.a.createElement(ge,null))),n.a.createElement(me,null))))};Object(i.initializeApp)({apiKey:"AIzaSyAyPMuIGreq81gLErYeKGkEje851Xdh_kc",authDomain:"wavelength-online.firebaseapp.com",databaseURL:"https://wavelength-online.firebaseio.com",projectId:"wavelength-online",storageBucket:"wavelength-online.appspot.com",messagingSenderId:"811157116454",appId:"1:811157116454:web:be3d3e6b17629700c038e7",measurementId:"G-XZ13S15LMC"}),Object(i.analytics)().logEvent("screen_view",{app_name:"Longwave",screen_name:"index"}),o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[107,1,2]]]);
//# sourceMappingURL=main.67e82131.chunk.js.map